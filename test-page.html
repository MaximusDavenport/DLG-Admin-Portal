<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DLG Administration Portal</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css" rel="stylesheet">
    <style>
        .modal-overlay {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.75);
            z-index: 100;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .hidden { display: none; }
        
        /* Navigation styles */
        .nav-item {
            display: flex;
            align-items: center;
            padding: 12px 24px;
            color: #9ca3af;
            text-decoration: none;
            border-left: 3px solid transparent;
            transition: all 0.2s;
        }
        .nav-item:hover {
            color: white;
            background-color: #374151;
        }
        .nav-item.active {
            color: white;
            background-color: #374151;
            border-left-color: #ef4444;
        }
        
        /* Content sections */
        .content-section {
            animation: fadeIn 0.3s ease-in;
        }
        .page-content {
            animation: fadeIn 0.3s ease-in;
        }
        .page-content.active {
            display: block;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* Switch toggle styles */
        .switch {
            position: relative;
            display: inline-block;
            width: 44px;
            height: 24px;
        }
        .switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }
        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #374151;
            transition: .4s;
            border-radius: 24px;
        }
        .slider:before {
            position: absolute;
            content: "";
            height: 18px;
            width: 18px;
            left: 3px;
            bottom: 3px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }
        input:checked + .slider {
            background-color: #ef4444;
        }
        input:checked + .slider:before {
            transform: translateX(20px);
        }
    </style>
</head>
<body class="bg-gray-900 text-white min-h-screen">
    <!-- Landing Page (shown when not logged in) -->
    <div id="landingPage" class="min-h-screen flex items-center justify-center">
        <div class="text-center">
            <!-- Logo Display -->
            <div id="landingPageLogo" class="mb-8">
                <div class="w-24 h-24 mx-auto mb-4 bg-gray-700 rounded-lg flex items-center justify-center">
                    <i class="fas fa-building text-gray-400 text-2xl"></i>
                </div>
            </div>
            <h1 class="text-4xl font-bold mb-8">DLG Administration Portal</h1>
            <button id="loginBtn" class="bg-red-600 hover:bg-red-700 text-white px-6 py-3 rounded-lg">
                Staff Login
            </button>
        </div>
    </div>

    <!-- Admin Dashboard (shown when logged in) -->
    <div id="adminDashboard" class="hidden min-h-screen">
        <!-- Navigation Header -->
        <nav class="bg-gray-800 border-b border-gray-700">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="flex justify-between h-16">
                    <div class="flex items-center">
                        <div class="navbar-brand-logo flex items-center">
                            <i class="fas fa-building mr-2"></i>
                            <span class="text-xl font-semibold text-white">DLG Administration</span>
                        </div>
                    </div>
                    <div class="flex items-center space-x-4">
                        <button id="logoutBtn" class="text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium">
                            <i class="fas fa-sign-out-alt mr-2"></i>Logout
                        </button>
                    </div>
                </div>
            </div>
        </nav>

        <!-- Main Content -->
        <div class="flex">
            <!-- Sidebar -->
            <div class="w-64 bg-gray-800 min-h-screen">
                <nav class="mt-8">
                    <a href="#" class="nav-item active" data-section="dashboard">
                        <i class="fas fa-tachometer-alt mr-3"></i>Dashboard
                    </a>
                    <a href="#" class="nav-item" data-section="clients">
                        <i class="fas fa-users mr-3"></i>Clients
                    </a>
                    <a href="#" class="nav-item" data-section="projects">
                        <i class="fas fa-project-diagram mr-3"></i>Projects
                    </a>
                    <a href="#" class="nav-item" data-section="invoices">
                        <i class="fas fa-file-invoice-dollar mr-3"></i>Invoices
                    </a>
                    <a href="#" class="nav-item" data-section="media">
                        <i class="fas fa-images mr-3"></i>Media
                    </a>
                    <a href="#" class="nav-item" data-section="settings">
                        <i class="fas fa-cog mr-3"></i>Settings
                    </a>
                </nav>
            </div>

            <!-- Content Area -->
            <div class="flex-1">
                <!-- Breadcrumb Navigation -->
                <div class="bg-gray-700 px-6 py-4 border-b border-gray-600">
                    <nav class="text-sm breadcrumbs" id="breadcrumbs">
                        <span class="text-gray-300">DLG Admin</span>
                        <span class="text-gray-500 mx-2">></span>
                        <span class="text-white" id="currentPageTitle">Dashboard</span>
                    </nav>
                </div>
                
                <div class="p-8">
                    <!-- Dashboard Content -->
                    <div id="dashboardContent" class="page-content active">
                    <h2 class="text-2xl font-bold text-white mb-6">Dashboard Overview</h2>
                    
                    <!-- Stats Cards -->
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                        <div class="bg-gray-800 rounded-lg p-6">
                            <div class="flex items-center">
                                <div class="flex-shrink-0">
                                    <i class="fas fa-users text-blue-400 text-2xl"></i>
                                </div>
                                <div class="ml-4">
                                    <p class="text-sm font-medium text-gray-400">Total Clients</p>
                                    <p class="text-2xl font-semibold text-white" id="totalClients">12</p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="bg-gray-800 rounded-lg p-6">
                            <div class="flex items-center">
                                <div class="flex-shrink-0">
                                    <i class="fas fa-project-diagram text-green-400 text-2xl"></i>
                                </div>
                                <div class="ml-4">
                                    <p class="text-sm font-medium text-gray-400">Active Projects</p>
                                    <p class="text-2xl font-semibold text-white" id="activeProjects">8</p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="bg-gray-800 rounded-lg p-6">
                            <div class="flex items-center">
                                <div class="flex-shrink-0">
                                    <i class="fas fa-file-invoice-dollar text-yellow-400 text-2xl"></i>
                                </div>
                                <div class="ml-4">
                                    <p class="text-sm font-medium text-gray-400">Pending Invoices</p>
                                    <p class="text-2xl font-semibold text-white" id="pendingInvoices">5</p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="bg-gray-800 rounded-lg p-6">
                            <div class="flex items-center">
                                <div class="flex-shrink-0">
                                    <i class="fas fa-images text-purple-400 text-2xl"></i>
                                </div>
                                <div class="ml-4">
                                    <p class="text-sm font-medium text-gray-400">Media Files</p>
                                    <p class="text-2xl font-semibold text-white" id="mediaFiles">24</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Recent Activity -->
                    <div class="bg-gray-800 rounded-lg p-6">
                        <h3 class="text-lg font-semibold text-white mb-4">Recent Activity</h3>
                        <div class="space-y-4">
                            <div class="flex items-center text-sm">
                                <i class="fas fa-plus-circle text-green-400 mr-3"></i>
                                <span class="text-gray-300">New client "Acme Corp" added</span>
                                <span class="text-gray-500 ml-auto">2 hours ago</span>
                            </div>
                            <div class="flex items-center text-sm">
                                <i class="fas fa-edit text-blue-400 mr-3"></i>
                                <span class="text-gray-300">Project "Website Redesign" updated</span>
                                <span class="text-gray-500 ml-auto">4 hours ago</span>
                            </div>
                            <div class="flex items-center text-sm">
                                <i class="fas fa-file-invoice text-yellow-400 mr-3"></i>
                                <span class="text-gray-300">Invoice #1001 sent to TechStart Inc</span>
                                <span class="text-gray-500 ml-auto">1 day ago</span>
                            </div>
                        </div>
                    </div>
                    </div>
                    
                    <!-- Clients Page -->
                    <div id="clientsContent" class="page-content hidden">
                        <div class="mb-6">
                            <div class="flex justify-between items-center">
                                <h1 class="text-3xl font-bold text-white">Clients Management</h1>
                                <button id="addClientBtn" class="bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg">
                                    <i class="fas fa-plus mr-2"></i>Add Client
                                </button>
                            </div>
                        </div>
                        
                        <!-- Client Statistics Cards -->
                        <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8">
                            <div class="bg-gray-800 p-6 rounded-lg">
                                <h3 class="text-gray-400 text-sm font-medium">Total Clients</h3>
                                <p class="text-2xl font-bold text-white mt-2" id="totalClientsCount">0</p>
                            </div>
                            <div class="bg-gray-800 p-6 rounded-lg">
                                <h3 class="text-gray-400 text-sm font-medium">Active Projects</h3>
                                <p class="text-2xl font-bold text-green-400 mt-2" id="activeProjectsCount">0</p>
                            </div>
                            <div class="bg-gray-800 p-6 rounded-lg">
                                <h3 class="text-gray-400 text-sm font-medium">Total Revenue</h3>
                                <p class="text-2xl font-bold text-blue-400 mt-2" id="totalRevenueAmount">$0</p>
                            </div>
                            <div class="bg-gray-800 p-6 rounded-lg">
                                <h3 class="text-gray-400 text-sm font-medium">Pending Invoices</h3>
                                <p class="text-2xl font-bold text-yellow-400 mt-2" id="pendingInvoicesCount">0</p>
                            </div>
                        </div>
                        
                        <!-- Clients Table -->
                        <div class="bg-gray-800 rounded-lg">
                            <div class="p-6 border-b border-gray-700">
                                <h2 class="text-xl font-semibold text-white">All Clients</h2>
                            </div>
                            <div class="overflow-x-auto">
                                <table class="w-full">
                                    <thead class="bg-gray-700">
                                        <tr>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider">Client</th>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider">Company</th>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider">Projects</th>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider">Revenue</th>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider">Status</th>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider">Actions</th>
                                        </tr>
                                    </thead>
                                    <tbody id="clientsTableBody" class="bg-gray-800 divide-y divide-gray-700">
                                        <!-- Client rows will be populated here -->
                                    </tbody>
                                </table>
                            </div>
                            
                            <!-- Empty State -->
                            <div id="emptyClientsState" class="hidden p-8 text-center">
                                <i class="fas fa-users text-4xl text-gray-500 mb-4"></i>
                                <h3 class="text-xl font-semibold text-gray-300 mb-2">No clients found</h3>
                                <p class="text-gray-500 mb-4">Get started by adding your first client</p>
                                <button class="bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg" onclick="document.getElementById('addClientBtn').click()">
                                    <i class="fas fa-plus mr-2"></i>Add Client
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Projects Page -->
                    <div id="projectsContent" class="page-content hidden">
                        <div class="mb-6">
                            <div class="flex justify-between items-center">
                                <h1 class="text-3xl font-bold text-white">Projects Management</h1>
                                <button id="addProjectBtn" class="bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg">
                                    <i class="fas fa-plus mr-2"></i>New Project
                                </button>
                            </div>
                        </div>
                        
                        <!-- Project Statistics -->
                        <div class="grid grid-cols-1 md:grid-cols-5 gap-6 mb-8">
                            <div class="bg-gray-800 p-6 rounded-lg">
                                <h3 class="text-gray-400 text-sm font-medium">Total Projects</h3>
                                <p class="text-2xl font-bold text-white mt-2" id="totalProjectsCount">0</p>
                            </div>
                            <div class="bg-gray-800 p-6 rounded-lg">
                                <h3 class="text-gray-400 text-sm font-medium">Active</h3>
                                <p class="text-2xl font-bold text-green-400 mt-2" id="activeProjectsPageCount">0</p>
                            </div>
                            <div class="bg-gray-800 p-6 rounded-lg">
                                <h3 class="text-gray-400 text-sm font-medium">Completed</h3>
                                <p class="text-2xl font-bold text-blue-400 mt-2" id="completedProjectsCount">0</p>
                            </div>
                            <div class="bg-gray-800 p-6 rounded-lg">
                                <h3 class="text-gray-400 text-sm font-medium">On Hold</h3>
                                <p class="text-2xl font-bold text-yellow-400 mt-2" id="onHoldProjectsCount">0</p>
                            </div>
                            <div class="bg-gray-800 p-6 rounded-lg">
                                <h3 class="text-gray-400 text-sm font-medium">Revenue</h3>
                                <p class="text-2xl font-bold text-green-500 mt-2" id="projectsRevenueTotal">$0</p>
                            </div>
                        </div>
                        
                        <div class="bg-gray-800 rounded-lg p-6">
                            <h2 class="text-xl font-semibold text-white mb-4">All Projects</h2>
                            <div id="projectsTableContainer">
                                <div class="text-center py-8">
                                    <i class="fas fa-project-diagram text-4xl text-gray-500 mb-4"></i>
                                    <h3 class="text-xl font-semibold text-gray-300 mb-2">No projects found</h3>
                                    <p class="text-gray-500 mb-4">Create your first project to get started</p>
                                    <button class="bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg" onclick="document.getElementById('addProjectBtn').click()">
                                        <i class="fas fa-plus mr-2"></i>New Project
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Invoices Page -->
                    <div id="invoicesContent" class="page-content hidden">
                        <div class="mb-6">
                            <div class="flex justify-between items-center">
                                <h1 class="text-3xl font-bold text-white">Invoices Management</h1>
                                <button id="addInvoiceBtn" class="bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg">
                                    <i class="fas fa-plus mr-2"></i>Create Invoice
                                </button>
                            </div>
                        </div>
                        
                        <div class="bg-gray-800 rounded-lg p-6">
                            <h2 class="text-xl font-semibold text-white mb-4">All Invoices</h2>
                            <div id="invoicesTableContainer">
                                <div class="text-center py-8">
                                    <i class="fas fa-file-invoice-dollar text-4xl text-gray-500 mb-4"></i>
                                    <h3 class="text-xl font-semibold text-gray-300 mb-2">No invoices found</h3>
                                    <p class="text-gray-500 mb-4">Create your first invoice to get started</p>
                                    <button class="bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg" onclick="document.getElementById('addInvoiceBtn').click()">
                                        <i class="fas fa-plus mr-2"></i>Create Invoice
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Media Page -->
                    <div id="mediaContent" class="page-content hidden">
                        <div class="mb-6">
                            <div class="flex justify-between items-center">
                                <h1 class="text-3xl font-bold text-white">Media Management</h1>
                                <label for="mediaUpload" class="bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg cursor-pointer">
                                    <i class="fas fa-upload mr-2"></i>Upload Files
                                    <input type="file" id="mediaUpload" class="hidden" multiple accept="image/*,video/*,audio/*,.pdf,.doc,.docx">
                                </label>
                            </div>
                        </div>

                <!-- Other sections (initially hidden) -->
                <div id="mediaSection" class="content-section hidden">
                    <h2 class="text-2xl font-bold text-white mb-6">Media Management</h2>
                    
                    <!-- Upload Area -->
                    <div class="bg-gray-800 rounded-lg p-6 mb-6">
                        <h3 class="text-lg font-semibold text-white mb-4">Upload Media</h3>
                        <div id="dropZone" class="border-2 border-dashed border-gray-600 rounded-lg p-8 text-center hover:border-gray-500 transition-colors cursor-pointer">
                            <i class="fas fa-cloud-upload-alt text-4xl text-gray-400 mb-4"></i>
                            <p class="text-gray-400 mb-2">Drag & drop files here or click to browse</p>
                            <p class="text-gray-500 text-sm">Supports: JPG, PNG, GIF, PDF, DOC, etc.</p>
                            <input type="file" id="fileInput" class="hidden" multiple accept="image/*,application/pdf,.doc,.docx">
                        </div>
                        <div id="uploadProgress" class="hidden mt-4">
                            <div class="bg-gray-700 rounded-full h-2">
                                <div id="progressBar" class="bg-blue-500 h-2 rounded-full" style="width: 0%"></div>
                            </div>
                            <p id="uploadStatus" class="text-gray-400 text-sm mt-2">Uploading...</p>
                        </div>
                    </div>

                    <!-- Current Logo Display -->
                    <div class="bg-gray-800 rounded-lg p-6 mb-6">
                        <h3 class="text-lg font-semibold text-white mb-4">Current Logo</h3>
                        <div id="currentLogoDisplay" class="flex items-center space-x-4">
                            <div class="w-16 h-16 bg-gray-700 rounded-lg flex items-center justify-center">
                                <i class="fas fa-image text-gray-400"></i>
                            </div>
                            <div>
                                <p class="text-gray-400">No logo set</p>
                                <p class="text-gray-500 text-sm">Upload and set a logo from the media library</p>
                            </div>
                        </div>
                    </div>

                    <!-- Media Library -->
                    <div class="bg-gray-800 rounded-lg p-6">
                        <div class="flex justify-between items-center mb-4">
                            <h3 class="text-lg font-semibold text-white">Media Library</h3>
                            <div class="flex space-x-2">
                                <button id="refreshMediaBtn" class="bg-gray-700 hover:bg-gray-600 text-white px-3 py-2 rounded text-sm">
                                    <i class="fas fa-sync-alt mr-2"></i>Refresh
                                </button>
                            </div>
                        </div>
                        
                        <div id="mediaGrid" class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 gap-4">
                            <!-- Media items will be dynamically added here -->
                        </div>
                        
                        <div id="emptyMediaState" class="text-center py-8 text-gray-400">
                            <i class="fas fa-images text-4xl mb-4"></i>
                            <p>No media files yet</p>
                            <p class="text-sm text-gray-500">Upload some files to get started</p>
                        </div>
                    </div>
                </div>

                <div id="clientsSection" class="content-section hidden">
                    <div class="flex justify-between items-center mb-6">
                        <h2 class="text-2xl font-bold text-white">Client Management</h2>
                        <button id="addClientBtn" class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg">
                            <i class="fas fa-plus mr-2"></i>Add Client
                        </button>
                    </div>
                    
                    <!-- Search and Filters -->
                    <div class="bg-gray-800 rounded-lg p-4 mb-6">
                        <div class="flex flex-col sm:flex-row gap-4">
                            <div class="flex-1">
                                <input type="text" id="clientSearch" placeholder="Search clients..." 
                                       class="w-full bg-gray-700 text-white rounded px-3 py-2 border border-gray-600 focus:border-blue-500 focus:outline-none">
                            </div>
                            <div>
                                <select id="clientStatusFilter" class="bg-gray-700 text-white rounded px-3 py-2 border border-gray-600 focus:border-blue-500 focus:outline-none">
                                    <option value="">All Status</option>
                                    <option value="active">Active</option>
                                    <option value="inactive">Inactive</option>
                                    <option value="pending">Pending</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <!-- Clients Table -->
                    <div class="bg-gray-800 rounded-lg overflow-hidden">
                        <div class="overflow-x-auto">
                            <table class="w-full">
                                <thead class="bg-gray-700">
                                    <tr>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider">Client</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider">Contact</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider">Status</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider">Projects</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider">Actions</th>
                                    </tr>
                                </thead>
                                <tbody id="clientsTableBody" class="bg-gray-800 divide-y divide-gray-700">
                                    <!-- Clients will be dynamically loaded here -->
                                </tbody>
                            </table>
                        </div>
                        
                        <div id="emptyClientsState" class="text-center py-8 text-gray-400 hidden">
                            <i class="fas fa-users text-4xl mb-4"></i>
                            <p>No clients found</p>
                            <p class="text-sm text-gray-500">Add your first client to get started</p>
                        </div>
                    </div>
                </div>

                <div id="projectsSection" class="content-section hidden">
                    <div class="flex justify-between items-center mb-6">
                        <h2 class="text-2xl font-bold text-white">Project Tracking</h2>
                        <button id="addProjectBtn" class="bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg">
                            <i class="fas fa-plus mr-2"></i>Add Project
                        </button>
                    </div>
                    
                    <!-- Project Status Overview -->
                    <div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-6">
                        <div class="bg-gray-800 rounded-lg p-4">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-gray-400 text-sm">Planning</p>
                                    <p class="text-2xl font-bold text-blue-400" id="planningCount">0</p>
                                </div>
                                <i class="fas fa-clipboard-list text-blue-400 text-xl"></i>
                            </div>
                        </div>
                        <div class="bg-gray-800 rounded-lg p-4">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-gray-400 text-sm">In Progress</p>
                                    <p class="text-2xl font-bold text-yellow-400" id="progressCount">0</p>
                                </div>
                                <i class="fas fa-cogs text-yellow-400 text-xl"></i>
                            </div>
                        </div>
                        <div class="bg-gray-800 rounded-lg p-4">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-gray-400 text-sm">Review</p>
                                    <p class="text-2xl font-bold text-purple-400" id="reviewCount">0</p>
                                </div>
                                <i class="fas fa-eye text-purple-400 text-xl"></i>
                            </div>
                        </div>
                        <div class="bg-gray-800 rounded-lg p-4">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-gray-400 text-sm">Completed</p>
                                    <p class="text-2xl font-bold text-green-400" id="completedCount">0</p>
                                </div>
                                <i class="fas fa-check-circle text-green-400 text-xl"></i>
                            </div>
                        </div>
                    </div>

                    <!-- Projects Grid -->
                    <div class="bg-gray-800 rounded-lg p-6">
                        <div id="projectsGrid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                            <!-- Projects will be dynamically loaded here -->
                        </div>
                        
                        <div id="emptyProjectsState" class="text-center py-8 text-gray-400">
                            <i class="fas fa-project-diagram text-4xl mb-4"></i>
                            <p>No projects yet</p>
                            <p class="text-sm text-gray-500">Create your first project to get started</p>
                        </div>
                    </div>
                </div>

                <div id="invoicesSection" class="content-section hidden">
                    <div class="flex justify-between items-center mb-6">
                        <h2 class="text-2xl font-bold text-white">Invoice Management</h2>
                        <button id="addInvoiceBtn" class="bg-yellow-600 hover:bg-yellow-700 text-white px-4 py-2 rounded-lg">
                            <i class="fas fa-plus mr-2"></i>Create Invoice
                        </button>
                    </div>
                    
                    <!-- Invoice Stats -->
                    <div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-6">
                        <div class="bg-gray-800 rounded-lg p-4">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-gray-400 text-sm">Draft</p>
                                    <p class="text-2xl font-bold text-gray-400" id="draftInvoices">0</p>
                                </div>
                                <i class="fas fa-file-alt text-gray-400 text-xl"></i>
                            </div>
                        </div>
                        <div class="bg-gray-800 rounded-lg p-4">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-gray-400 text-sm">Sent</p>
                                    <p class="text-2xl font-bold text-blue-400" id="sentInvoices">0</p>
                                </div>
                                <i class="fas fa-paper-plane text-blue-400 text-xl"></i>
                            </div>
                        </div>
                        <div class="bg-gray-800 rounded-lg p-4">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-gray-400 text-sm">Overdue</p>
                                    <p class="text-2xl font-bold text-red-400" id="overdueInvoices">0</p>
                                </div>
                                <i class="fas fa-exclamation-triangle text-red-400 text-xl"></i>
                            </div>
                        </div>
                        <div class="bg-gray-800 rounded-lg p-4">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-gray-400 text-sm">Paid</p>
                                    <p class="text-2xl font-bold text-green-400" id="paidInvoices">0</p>
                                </div>
                                <i class="fas fa-check-circle text-green-400 text-xl"></i>
                            </div>
                        </div>
                    </div>

                    <!-- Invoices Table -->
                    <div class="bg-gray-800 rounded-lg overflow-hidden">
                        <div class="overflow-x-auto">
                            <table class="w-full">
                                <thead class="bg-gray-700">
                                    <tr>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider">Invoice #</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider">Client</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider">Amount</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider">Status</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider">Due Date</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider">Actions</th>
                                    </tr>
                                </thead>
                                <tbody id="invoicesTableBody" class="bg-gray-800 divide-y divide-gray-700">
                                    <!-- Invoices will be dynamically loaded here -->
                                </tbody>
                            </table>
                        </div>
                        
                        <div id="emptyInvoicesState" class="text-center py-8 text-gray-400">
                            <i class="fas fa-file-invoice-dollar text-4xl mb-4"></i>
                            <p>No invoices yet</p>
                            <p class="text-sm text-gray-500">Create your first invoice to get started</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Login Modal -->
    <div id="loginModal" class="hidden modal-overlay">
        <div class="bg-gray-800 rounded-lg p-8 w-96 max-w-md">
            <!-- Logo Display in Modal -->
            <div id="loginModalLogo" class="mb-6 text-center">
                <div class="w-16 h-16 mx-auto mb-3 bg-gray-700 rounded-lg flex items-center justify-center">
                    <i class="fas fa-building text-gray-400"></i>
                </div>
            </div>
            <h2 class="text-2xl font-bold mb-6 text-center">Staff Login</h2>
            <form id="loginForm">
                <div class="mb-4">
                    <label class="block text-sm font-medium mb-2">Email</label>
                    <input type="email" id="email" name="email" class="w-full bg-gray-700 text-white rounded px-3 py-2" required>
                </div>
                <div class="mb-6">
                    <label class="block text-sm font-medium mb-2">Password</label>
                    <input type="password" id="password" name="password" class="w-full bg-gray-700 text-white rounded px-3 py-2" required>
                </div>
                <button type="submit" class="w-full bg-red-600 hover:bg-red-700 text-white py-2 rounded">
                    Login
                </button>
            </form>
            <button id="closeModal" class="mt-4 text-gray-400 hover:text-white text-center w-full">Close</button>
        </div>
    </div>

    <!-- Client Modal (Add/Edit) -->
    <div id="clientModal" class="hidden modal-overlay">
        <div class="bg-gray-800 rounded-lg p-8 w-full max-w-md mx-4">
            <h2 id="clientModalTitle" class="text-2xl font-bold mb-6 text-center">Add Client</h2>
            <form id="clientForm">
                <div class="grid grid-cols-1 gap-4">
                    <div>
                        <label class="block text-sm font-medium mb-2">Company Name *</label>
                        <input type="text" id="clientCompany" name="company" class="w-full bg-gray-700 text-white rounded px-3 py-2 border border-gray-600 focus:border-blue-500 focus:outline-none" required>
                    </div>
                    <div>
                        <label class="block text-sm font-medium mb-2">Contact Name *</label>
                        <input type="text" id="clientName" name="name" class="w-full bg-gray-700 text-white rounded px-3 py-2 border border-gray-600 focus:border-blue-500 focus:outline-none" required>
                    </div>
                    <div>
                        <label class="block text-sm font-medium mb-2">Email *</label>
                        <input type="email" id="clientEmail" name="email" class="w-full bg-gray-700 text-white rounded px-3 py-2 border border-gray-600 focus:border-blue-500 focus:outline-none" required>
                    </div>
                    <div>
                        <label class="block text-sm font-medium mb-2">Phone</label>
                        <input type="tel" id="clientPhone" name="phone" class="w-full bg-gray-700 text-white rounded px-3 py-2 border border-gray-600 focus:border-blue-500 focus:outline-none">
                    </div>
                    <div>
                        <label class="block text-sm font-medium mb-2">Status</label>
                        <select id="clientStatus" name="status" class="w-full bg-gray-700 text-white rounded px-3 py-2 border border-gray-600 focus:border-blue-500 focus:outline-none">
                            <option value="active">Active</option>
                            <option value="inactive">Inactive</option>
                            <option value="pending">Pending</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-sm font-medium mb-2">Notes</label>
                        <textarea id="clientNotes" name="notes" rows="3" class="w-full bg-gray-700 text-white rounded px-3 py-2 border border-gray-600 focus:border-blue-500 focus:outline-none"></textarea>
                    </div>
                </div>
                <div class="flex space-x-4 mt-6">
                    <button type="submit" class="flex-1 bg-blue-600 hover:bg-blue-700 text-white py-2 rounded">
                        Save Client
                    </button>
                    <button type="button" id="cancelClientBtn" class="flex-1 bg-gray-600 hover:bg-gray-700 text-white py-2 rounded">
                        Cancel
                    </button>
                </div>
            </form>
        </div>
                    
                    <!-- Settings Page -->
                    <div id="settingsContent" class="page-content hidden">
                        <div class="mb-6">
                            <h1 class="text-3xl font-bold text-white">Settings</h1>
                        </div>
                        
                        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                            <!-- Company Information -->
                            <div class="bg-gray-800 rounded-lg p-6">
                                <h2 class="text-xl font-semibold text-white mb-4">Company Information</h2>
                                <div class="space-y-4">
                                    <div>
                                        <label class="block text-sm font-medium text-gray-300 mb-2">Company Name</label>
                                        <input type="text" class="w-full bg-gray-700 text-white rounded px-3 py-2" value="Davenport Legacy Group">
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-300 mb-2">Email</label>
                                        <input type="email" class="w-full bg-gray-700 text-white rounded px-3 py-2" value="admin@davenportlegacy.com">
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-300 mb-2">Phone</label>
                                        <input type="tel" class="w-full bg-gray-700 text-white rounded px-3 py-2" value="+1 (555) 123-4567">
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-300 mb-2">Address</label>
                                        <textarea class="w-full bg-gray-700 text-white rounded px-3 py-2 h-20">123 Business Ave\nSuite 100\nCity, State 12345</textarea>
                                    </div>
                                    <button class="bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded">
                                        Save Changes
                                    </button>
                                </div>
                            </div>
                            
                            <!-- System Preferences -->
                            <div class="bg-gray-800 rounded-lg p-6">
                                <h2 class="text-xl font-semibold text-white mb-4">System Preferences</h2>
                                <div class="space-y-4">
                                    <div class="flex items-center justify-between">
                                        <span class="text-gray-300">Email Notifications</span>
                                        <label class="switch">
                                            <input type="checkbox" checked>
                                            <span class="slider"></span>
                                        </label>
                                    </div>
                                    <div class="flex items-center justify-between">
                                        <span class="text-gray-300">Auto Backup</span>
                                        <label class="switch">
                                            <input type="checkbox" checked>
                                            <span class="slider"></span>
                                        </label>
                                    </div>
                                    <div class="flex items-center justify-between">
                                        <span class="text-gray-300">Dark Mode</span>
                                        <label class="switch">
                                            <input type="checkbox" checked disabled>
                                            <span class="slider"></span>
                                        </label>
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-300 mb-2">Timezone</label>
                                        <select class="w-full bg-gray-700 text-white rounded px-3 py-2">
                                            <option>UTC-05:00 (Eastern Time)</option>
                                            <option>UTC-06:00 (Central Time)</option>
                                            <option>UTC-07:00 (Mountain Time)</option>
                                            <option>UTC-08:00 (Pacific Time)</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                
                </div>
            </div>
        </div>
    </div>

    <script>
        console.log('DLG Admin Portal loaded');
        
        document.addEventListener('DOMContentLoaded', function() {
            console.log('DOM ready, initializing...');
            
            const loginBtn = document.getElementById('loginBtn');
            const modal = document.getElementById('loginModal');
            const closeBtn = document.getElementById('closeModal');
            const loginForm = document.getElementById('loginForm');
            
            // Open modal
            if (loginBtn) {
                loginBtn.addEventListener('click', function(e) {
                    e.preventDefault();
                    console.log('Login button clicked');
                    if (modal) {
                        modal.classList.remove('hidden');
                    }
                });
            }
            
            // Close modal
            if (closeBtn) {
                closeBtn.addEventListener('click', function(e) {
                    e.preventDefault();
                    console.log('Close button clicked');
                    if (modal) {
                        modal.classList.add('hidden');
                    }
                });
            }

            // Close modal on overlay click
            if (modal) {
                modal.addEventListener('click', function(e) {
                    if (e.target === modal) {
                        modal.classList.add('hidden');
                    }
                });
            }
            
            // Handle login form submission
            if (loginForm) {
                loginForm.addEventListener('submit', function(e) {
                    e.preventDefault(); // Prevent form from submitting normally
                    console.log('Login form submitted');
                    
                    const email = document.getElementById('email').value;
                    const password = document.getElementById('password').value;
                    
                    console.log('Attempting login with:', email);
                    
                    // Simple authentication check (you can replace this with real auth)
                    if (email && password) {
                        // Hide modal
                        modal.classList.add('hidden');
                        
                        // Show dashboard
                        showDashboard();
                        
                        // Reload logo after login
                        setTimeout(() => loadCurrentLogo(), 100);
                        
                        // Clear form
                        loginForm.reset();
                    } else {
                        alert('Please enter both email and password');
                    }
                });
            }
            
            // Initialize page navigation
            initializeNavigation();
            
            console.log('Initialization complete');
        });
        
        // Page Navigation System
        function initializeNavigation() {
            const navItems = document.querySelectorAll('.nav-item');
            const pageContents = document.querySelectorAll('.page-content');
            const currentPageTitle = document.getElementById('currentPageTitle');
            
            navItems.forEach(item => {
                item.addEventListener('click', (e) => {
                    e.preventDefault();
                    const section = item.getAttribute('data-section');
                    
                    // Update active nav item
                    navItems.forEach(nav => nav.classList.remove('active'));
                    item.classList.add('active');
                    
                    // Show corresponding page content
                    pageContents.forEach(content => content.classList.add('hidden'));
                    const targetContent = document.getElementById(section + 'Content');
                    if (targetContent) {
                        targetContent.classList.remove('hidden');
                        
                        // Update breadcrumb
                        const pageTitle = item.textContent.trim();
                        currentPageTitle.textContent = pageTitle;
                        
                        // Load page-specific data
                        loadPageData(section);
                    }
                });
            });
        }
        
        // Load page-specific data
        function loadPageData(section) {
            switch(section) {
                case 'dashboard':
                    loadDashboardStats();
                    break;
                case 'clients':
                    loadClientsData();
                    break;
                case 'projects':
                    loadProjectsData();
                    break;
                case 'invoices':
                    loadInvoicesData();
                    break;
                case 'media':
                    loadMediaData();
                    initializeMediaManagement();
                    break;
                case 'settings':
                    loadSettingsData();
                    break;
            }
        }
        
        // Settings data loader
        function loadSettingsData() {
            console.log('Loading settings data...');
            // Settings data is mostly static, no API calls needed
        }

        // Dashboard Functions
        function showDashboard() {
            console.log('Showing dashboard');
            document.getElementById('landingPage').classList.add('hidden');
            document.getElementById('adminDashboard').classList.remove('hidden');
            
            // Initialize navigation - done in main DOMContentLoaded handler
            
            // Load current logo for dashboard and all site elements
            loadCurrentLogo();
            
            // Load dashboard statistics
            loadDashboardStats();
        }

        function hideDashboard() {
            console.log('Hiding dashboard');
            document.getElementById('adminDashboard').classList.add('hidden');
            document.getElementById('landingPage').classList.remove('hidden');
        }



        // Media Management Functions
        function initializeMediaManagement() {
            console.log('Initializing media management');
            
            const dropZone = document.getElementById('dropZone');
            const fileInput = document.getElementById('fileInput');
            const refreshBtn = document.getElementById('refreshMediaBtn');
            
            // Load existing media
            loadMediaData();
            
            // Drag and drop functionality
            if (dropZone) {
                dropZone.addEventListener('click', () => fileInput.click());
                
                dropZone.addEventListener('dragover', (e) => {
                    e.preventDefault();
                    dropZone.classList.add('border-blue-500', 'bg-gray-700');
                });
                
                dropZone.addEventListener('dragleave', (e) => {
                    e.preventDefault();
                    dropZone.classList.remove('border-blue-500', 'bg-gray-700');
                });
                
                dropZone.addEventListener('drop', (e) => {
                    e.preventDefault();
                    dropZone.classList.remove('border-blue-500', 'bg-gray-700');
                    const files = e.dataTransfer.files;
                    handleFileUpload(files);
                });
            }
            
            // File input change
            if (fileInput) {
                fileInput.addEventListener('change', (e) => {
                    handleFileUpload(e.target.files);
                });
            }
            
            // Refresh button
            if (refreshBtn) {
                refreshBtn.addEventListener('click', loadMediaData);
            }
        }

        async function handleFileUpload(files) {
            console.log('Handling file upload:', files.length, 'files');
            
            if (files.length === 0) return;
            
            const uploadProgress = document.getElementById('uploadProgress');
            const progressBar = document.getElementById('progressBar');
            const uploadStatus = document.getElementById('uploadStatus');
            
            // Show progress
            uploadProgress.classList.remove('hidden');
            
            try {
                const fileArray = Array.from(files);
                let completedFiles = 0;
                
                // Upload files one by one
                for (const file of fileArray) {
                    uploadStatus.textContent = `Uploading ${file.name}...`;
                    
                    const formData = new FormData();
                    formData.append('file', file);
                    
                    const response = await fetch('/api/media/upload', {
                        method: 'POST',
                        headers: {
                            'X-Tenant-ID': '1'
                        },
                        body: formData
                    });
                    
                    if (!response.ok) {
                        throw new Error(`Failed to upload ${file.name}`);
                    }
                    
                    completedFiles++;
                    const progress = Math.round((completedFiles / fileArray.length) * 100);
                    progressBar.style.width = progress + '%';
                    uploadStatus.textContent = `Uploaded ${completedFiles}/${fileArray.length} files`;
                }
                
                // Success - hide progress and refresh
                setTimeout(() => {
                    uploadProgress.classList.add('hidden');
                    progressBar.style.width = '0%';
                    uploadStatus.textContent = 'Uploading...';
                    loadMediaData();
                    showNotification(`Successfully uploaded ${fileArray.length} file(s)!`, 'success');
                }, 500);
                
            } catch (error) {
                console.error('Upload error:', error);
                uploadProgress.classList.add('hidden');
                progressBar.style.width = '0%';
                uploadStatus.textContent = 'Uploading...';
                showNotification(`Upload failed: ${error.message}`, 'error');
            }
        }

        async function loadMediaData() {
            console.log('Loading media data');
            
            const mediaGrid = document.getElementById('mediaGrid');
            const emptyState = document.getElementById('emptyMediaState');
            
            try {
                const response = await fetch('/api/media', {
                    headers: {
                        'X-Tenant-ID': '1'
                    }
                });
                
                if (!response.ok) {
                    throw new Error('Failed to load media');
                }
                
                const media = await response.json();
                
                if (media.length === 0) {
                    mediaGrid.innerHTML = '';
                    emptyState.classList.remove('hidden');
                    return;
                }
                
                // Auto-set first image as logo if no logo is currently set
                const currentLogo = JSON.parse(localStorage.getItem('dlg_admin_current_logo') || 'null');
                if (!currentLogo && media.length > 0) {
                    const firstImage = media.find(item => {
                        const filename = item.key.split('/').pop();
                        return filename.match(/.(jpg|jpeg|png|gif|webp)$/i);
                    });
                    
                    if (firstImage) {
                        console.log('Auto-setting first image as logo:', firstImage.key);
                        const fileExtension = firstImage.key.split('.').pop().toLowerCase();
                        const logoData = {
                            ...firstImage,
                            name: firstImage.key.split('/').pop(),
                            type: 'image/' + fileExtension
                        };
                        localStorage.setItem('dlg_admin_current_logo', JSON.stringify(logoData));
                        updateCurrentLogoDisplay(logoData);
                        updateSiteLogos(logoData);
                        console.log('Logo auto-set successfully:', logoData);
                    }
                }
                
                emptyState.classList.add('hidden');
                
                // Generate media grid HTML
                mediaGrid.innerHTML = media.map(item => {
                    const filename = item.key.split('/').pop();
                    const isImage = filename.match(/.(jpg|jpeg|png|gif|webp)$/i);
                    
                    return `
                        <div class="bg-gray-700 rounded-lg p-3 hover:bg-gray-600 transition-colors group">
                            <div class="aspect-square bg-gray-800 rounded mb-2 flex items-center justify-center overflow-hidden">
                                ${isImage
                                    ? `<img src="${item.url}" alt="${filename}" class="w-full h-full object-cover">`
                                    : `<i class="fas fa-file text-2xl text-gray-400"></i>`
                                }
                            </div>
                            <p class="text-white text-sm truncate" title="${filename}">${filename}</p>
                            <p class="text-gray-400 text-xs">${formatFileSize(item.size)}</p>
                            <p class="text-gray-500 text-xs">${new Date(item.uploaded).toLocaleDateString()}</p>
                            <div class="mt-2 flex space-x-1 opacity-0 group-hover:opacity-100 transition-opacity">
                                <button onclick="setAsLogo('${item.key}')" class="bg-blue-600 hover:bg-blue-700 text-white px-2 py-1 rounded text-xs">
                                    Set Logo
                                </button>
                                <button onclick="deleteMedia('${item.key}')" class="bg-red-600 hover:bg-red-700 text-white px-2 py-1 rounded text-xs">
                                    Delete
                                </button>
                            </div>
                        </div>
                    `;
                }).join('');
                
            } catch (error) {
                console.error('Error loading media:', error);
                showNotification('Failed to load media files', 'error');
                mediaGrid.innerHTML = '';
                emptyState.classList.remove('hidden');
            }
        }

        function formatFileSize(bytes) {
            if (bytes === 0) return '0 Bytes';
            const k = 1024;
            const sizes = ['Bytes', 'KB', 'MB', 'GB'];
            const i = Math.floor(Math.log(bytes) / Math.log(k));
            return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
        }

        async function setAsLogo(mediaKey) {
            console.log('Setting logo:', mediaKey);
            
            try {
                // Get current media list to find the selected file
                const response = await fetch('/api/media', {
                    headers: {
                        'X-Tenant-ID': '1'
                    }
                });
                
                if (!response.ok) {
                    throw new Error('Failed to load media');
                }
                
                const media = await response.json();
                const selectedMedia = media.find(item => item.key === mediaKey);
                
                if (selectedMedia) {
                    // Add filename for display
                    const logoData = {
                        ...selectedMedia,
                        name: selectedMedia.key.split('/').pop()
                    };
                    
                    localStorage.setItem('dlg_admin_current_logo', JSON.stringify(logoData));
                    updateCurrentLogoDisplay(logoData);
                    updateSiteLogos(logoData); // Update logos across all pages
                    showNotification('Logo updated successfully!', 'success');
                }
            } catch (error) {
                console.error('Set logo error:', error);
                showNotification('Failed to set logo', 'error');
            }
        }

        async function deleteMedia(mediaKey) {
            console.log('Deleting media:', mediaKey);
            
            if (!confirm('Are you sure you want to delete this file?')) return;
            
            try {
                // Extract filename from key (uploads/filename.ext -> filename.ext)
                const filename = mediaKey.split('/').pop();
                const response = await fetch(`/api/media/uploads/${filename}`, {
                    method: 'DELETE',
                    headers: {
                        'X-Tenant-ID': '1'
                    }
                });
                
                if (!response.ok) {
                    throw new Error('Failed to delete file');
                }
                
                // Check if deleted file was the current logo
                const currentLogo = JSON.parse(localStorage.getItem('dlg_admin_current_logo') || 'null');
                if (currentLogo && currentLogo.key === mediaKey) {
                    localStorage.removeItem('dlg_admin_current_logo');
                    updateCurrentLogoDisplay(null);
                    updateSiteLogos(null); // Clear logos across all pages
                }
                
                loadMediaData();
                showNotification('File deleted successfully!', 'success');
                
            } catch (error) {
                console.error('Delete error:', error);
                showNotification('Failed to delete file', 'error');
            }
        }

        function updateCurrentLogoDisplay(logoData) {
            const display = document.getElementById('currentLogoDisplay');
            
            if (logoData && logoData.type.startsWith('image/')) {
                display.innerHTML = `
                    <div class="w-16 h-16 bg-gray-700 rounded-lg overflow-hidden">
                        <img src="${logoData.url}" alt="${logoData.name}" class="w-full h-full object-cover">
                    </div>
                    <div>
                        <p class="text-white font-medium">${logoData.name}</p>
                        <p class="text-gray-400 text-sm">Current logo  ${formatFileSize(logoData.size)}</p>
                    </div>
                `;
            } else {
                display.innerHTML = `
                    <div class="w-16 h-16 bg-gray-700 rounded-lg flex items-center justify-center">
                        <i class="fas fa-image text-gray-400"></i>
                    </div>
                    <div>
                        <p class="text-gray-400">No logo set</p>
                        <p class="text-gray-500 text-sm">Upload and set a logo from the media library</p>
                    </div>
                `;
            }
        }

        function showNotification(message, type = 'info') {
            // Create notification element
            const notification = document.createElement('div');
            notification.className = `fixed top-4 right-4 z-50 px-4 py-3 rounded-lg shadow-lg text-white transform transition-all duration-300 translate-x-full`;
            
            // Set color based on type
            const colors = {
                success: 'bg-green-600',
                error: 'bg-red-600',
                info: 'bg-blue-600',
                warning: 'bg-yellow-600'
            };
            notification.className += ' ' + colors[type];
            
            notification.innerHTML = `
                <div class="flex items-center">
                    <i class="fas fa-${type === 'success' ? 'check-circle' : type === 'error' ? 'times-circle' : 'info-circle'} mr-2"></i>
                    <span>${message}</span>
                </div>
            `;
            
            document.body.appendChild(notification);
            
            // Animate in
            setTimeout(() => notification.classList.remove('translate-x-full'), 100);
            
            // Animate out and remove
            setTimeout(() => {
                notification.classList.add('translate-x-full');
                setTimeout(() => document.body.removeChild(notification), 300);
            }, 3000);
        }

        // Load current logo on dashboard show
        function loadCurrentLogo() {
            const currentLogo = JSON.parse(localStorage.getItem('dlg_admin_current_logo') || 'null');
            updateCurrentLogoDisplay(currentLogo);
            updateSiteLogos(currentLogo);
        }
        
        // Initialize logo display after DOM and all functions are ready
        setTimeout(() => {
            console.log('Loading site logos...');
            loadCurrentLogo();
        }, 100);
        
        // Update site logos across all pages
        function updateSiteLogos(logoData) {
            updateLandingPageLogo(logoData);
            updateLoginModalLogo(logoData);
            updateDashboardLogo(logoData);
        }
        
        // Update landing page logo
        function updateLandingPageLogo(logoData) {
            const logoContainer = document.getElementById('landingPageLogo');
            if (logoContainer) {
                if (logoData && logoData.url && logoData.type && logoData.type.startsWith('image/')) {
                    logoContainer.innerHTML = `
                        <div class="w-24 h-24 mx-auto mb-4 bg-gray-700 rounded-lg overflow-hidden">
                            <img src="${logoData.url}" alt="${logoData.name || 'Logo'}" class="w-full h-full object-cover">
                        </div>
                    `;
                } else {
                    logoContainer.innerHTML = `
                        <div class="w-24 h-24 mx-auto mb-4 bg-gray-700 rounded-lg flex items-center justify-center">
                            <i class="fas fa-building text-gray-400 text-2xl"></i>
                        </div>
                    `;
                }
            }
        }
        
        // Update login modal logo
        function updateLoginModalLogo(logoData) {
            const logoContainer = document.getElementById('loginModalLogo');
            if (logoContainer) {
                if (logoData && logoData.url && logoData.type && logoData.type.startsWith('image/')) {
                    logoContainer.innerHTML = `
                        <div class="w-16 h-16 mx-auto mb-3 bg-gray-700 rounded-lg overflow-hidden">
                            <img src="${logoData.url}" alt="${logoData.name || 'Logo'}" class="w-full h-full object-cover">
                        </div>
                    `;
                } else {
                    logoContainer.innerHTML = `
                        <div class="w-16 h-16 mx-auto mb-3 bg-gray-700 rounded-lg flex items-center justify-center">
                            <i class="fas fa-building text-gray-400"></i>
                        </div>
                    `;
                }
            }
        }
        
        // Update dashboard header logo  
        function updateDashboardLogo(logoData) {
            const headerLogo = document.querySelector('.navbar-brand-logo');
            if (headerLogo) {
                if (logoData && logoData.url && logoData.type && logoData.type.startsWith('image/')) {
                    headerLogo.innerHTML = `
                        <img src="${logoData.url}" alt="${logoData.name || 'Logo'}" class="w-8 h-8 mr-2 rounded object-cover">
                        <span class="text-xl font-semibold text-white">DLG Administration</span>
                    `;
                } else {
                    headerLogo.innerHTML = `
                        <i class="fas fa-building mr-2"></i>
                        <span class="text-xl font-semibold text-white">DLG Administration</span>
                    `;
                }
            }
        }

        // Dashboard stats loading
        async function loadDashboardStats() {
            try {
                const response = await fetch('/api/dashboard/stats', {
                    headers: {
                        'X-Tenant-ID': '1' // Default tenant for now
                    }
                });
                
                if (response.ok) {
                    const stats = await response.json();
                    
                    // Update main dashboard stats
                    const totalClientsEl = document.getElementById('totalClients');
                    const activeProjectsEl = document.getElementById('activeProjects');
                    const pendingInvoicesEl = document.getElementById('pendingInvoices');
                    const totalRevenueEl = document.getElementById('totalRevenue');
                    
                    if (totalClientsEl) totalClientsEl.textContent = stats.clients;
                    if (activeProjectsEl) activeProjectsEl.textContent = stats.projectStats.in_progress;
                    if (pendingInvoicesEl) pendingInvoicesEl.textContent = stats.invoiceStats.pending + stats.invoiceStats.overdue;
                    if (totalRevenueEl) totalRevenueEl.textContent = '$' + (stats.revenue.paid / 1000).toFixed(1) + 'k';
                    
                    // Update project stats if on projects page
                    const planningCountEl = document.getElementById('planningCount');
                    const progressCountEl = document.getElementById('progressCount');
                    const reviewCountEl = document.getElementById('reviewCount');
                    const completedCountEl = document.getElementById('completedCount');
                    
                    if (planningCountEl) planningCountEl.textContent = stats.projectStats.planned;
                    if (progressCountEl) progressCountEl.textContent = stats.projectStats.in_progress;
                    if (reviewCountEl) reviewCountEl.textContent = stats.projectStats.review;
                    if (completedCountEl) completedCountEl.textContent = stats.projectStats.completed;
                    
                    // Update invoice stats if on invoices page
                    const draftInvoicesEl = document.getElementById('draftInvoices');
                    const sentInvoicesEl = document.getElementById('sentInvoices');
                    const overdueInvoicesEl = document.getElementById('overdueInvoices');
                    const paidInvoicesEl = document.getElementById('paidInvoices');
                    
                    if (draftInvoicesEl) draftInvoicesEl.textContent = stats.invoiceStats.draft;
                    if (sentInvoicesEl) sentInvoicesEl.textContent = stats.invoiceStats.pending;
                    if (overdueInvoicesEl) overdueInvoicesEl.textContent = stats.invoiceStats.overdue;
                    if (paidInvoicesEl) paidInvoicesEl.textContent = stats.invoiceStats.paid;
                } else {
                    console.error('Failed to load dashboard stats');
                }
            } catch (error) {
                console.error('Dashboard API error:', error);
            }
        }

        // Client Management Functions
        let editingClientId = null;

        function initializeClientManagement() {
            console.log('Initializing client management');
            
            const addClientBtn = document.getElementById('addClientBtn');
            const clientSearch = document.getElementById('clientSearch');
            const clientStatusFilter = document.getElementById('clientStatusFilter');
            const clientForm = document.getElementById('clientForm');
            const clientModal = document.getElementById('clientModal');
            const cancelClientBtn = document.getElementById('cancelClientBtn');
            
            // Load clients
            loadClientsData();
            
            // Add client button
            if (addClientBtn) {
                addClientBtn.addEventListener('click', () => openClientModal());
            }
            
            // Search and filter
            if (clientSearch) {
                clientSearch.addEventListener('input', filterClients);
            }
            if (clientStatusFilter) {
                clientStatusFilter.addEventListener('change', filterClients);
            }
            
            // Client form
            if (clientForm) {
                clientForm.addEventListener('submit', (e) => {
                    e.preventDefault();
                    saveClient();
                });
            }
            
            // Cancel button
            if (cancelClientBtn) {
                cancelClientBtn.addEventListener('click', closeClientModal);
            }
            
            // Modal overlay click
            if (clientModal) {
                clientModal.addEventListener('click', (e) => {
                    if (e.target === clientModal) closeClientModal();
                });
            }
        }

        async function loadClientsData() {
            console.log('Loading clients data');
            
            const tableBody = document.getElementById('clientsTableBody');
            const emptyState = document.getElementById('emptyClientsState');
            
            // Update statistics
            const totalClientsCount = document.getElementById('totalClientsCount');
            const activeProjectsCount = document.getElementById('activeProjectsCount');
            const totalRevenueAmount = document.getElementById('totalRevenueAmount');
            const pendingInvoicesCount = document.getElementById('pendingInvoicesCount');
            
            try {
                const response = await fetch('/api/clients', {
                    headers: {
                        'X-Tenant-ID': '1' // Default tenant for now
                    }
                });
                
                if (!response.ok) {
                    throw new Error('Failed to load clients');
                }
                
                const clients = await response.json();
                
                if (clients.length === 0) {
                    tableBody.innerHTML = '';
                    emptyState.classList.remove('hidden');
                    return;
                }
                
                emptyState.classList.add('hidden');
                
                // Generate table rows
                tableBody.innerHTML = clients.map(client => `
                    <tr class="hover:bg-gray-700">
                        <td class="px-6 py-4 whitespace-nowrap">
                            <div class="flex items-center">
                                <div class="flex-shrink-0 h-10 w-10">
                                    <div class="h-10 w-10 rounded-full bg-gray-600 flex items-center justify-center">
                                        <span class="text-sm font-medium text-white">${client.name.charAt(0).toUpperCase()}</span>
                                    </div>
                                </div>
                                <div class="ml-4">
                                    <div class="text-sm font-medium text-white">${client.name}</div>
                                    <div class="text-sm text-gray-400">${client.contact_name}</div>
                                </div>
                            </div>
                        </td>
                        <td class="px-6 py-4 whitespace-nowrap">
                            <div class="text-sm text-white">${client.contact_email}</div>
                            ${client.contact_phone ? `<div class="text-sm text-gray-400">${client.contact_phone}</div>` : ''}
                        </td>
                        <td class="px-6 py-4 whitespace-nowrap">
                            <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${getStatusColor(client.status)}">
                                ${client.status.charAt(0).toUpperCase() + client.status.slice(1)}
                            </span>
                        </td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-white">
                            ${client.project_count || 0} projects
                        </td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
                            <div class="flex space-x-2">
                                <button onclick="editClient('${client.id}')" class="text-blue-400 hover:text-blue-300">
                                    <i class="fas fa-edit"></i>
                                </button>
                                <button onclick="deleteClient('${client.id}')" class="text-red-400 hover:text-red-300">
                                    <i class="fas fa-trash"></i>
                                </button>
                            </div>
                        </td>
                    </tr>
                `).join('');
                
                // Also update dashboard stats
                loadDashboardStats();
                
            } catch (error) {
                console.error('Error loading clients:', error);
                showNotification('Failed to load clients data', 'error');
                tableBody.innerHTML = '';
                emptyState.classList.remove('hidden');
            }
        }

        function getStatusColor(status) {
            const colors = {
                active: 'bg-green-100 text-green-800',
                inactive: 'bg-gray-100 text-gray-800', 
                pending: 'bg-yellow-100 text-yellow-800'
            };
            return colors[status] || colors.pending;
        }

        function filterClients() {
            const search = document.getElementById('clientSearch').value.toLowerCase();
            const statusFilter = document.getElementById('clientStatusFilter').value;
            const clients = JSON.parse(localStorage.getItem('dlg_admin_clients') || '[]');
            
            let filteredClients = clients;
            
            // Apply search filter
            if (search) {
                filteredClients = filteredClients.filter(client => 
                    client.company.toLowerCase().includes(search) ||
                    client.name.toLowerCase().includes(search) ||
                    client.email.toLowerCase().includes(search)
                );
            }
            
            // Apply status filter
            if (statusFilter) {
                filteredClients = filteredClients.filter(client => client.status === statusFilter);
            }
            
            // Update table with filtered results
            const tableBody = document.getElementById('clientsTableBody');
            const emptyState = document.getElementById('emptyClientsState');
            
            if (filteredClients.length === 0) {
                tableBody.innerHTML = '';
                emptyState.classList.remove('hidden');
            } else {
                emptyState.classList.add('hidden');
                // Re-render with filtered data (reuse the same rendering logic)
                localStorage.setItem('dlg_admin_clients_filtered', JSON.stringify(filteredClients));
                loadClientsData();
                localStorage.removeItem('dlg_admin_clients_filtered');
            }
        }

        function openClientModal(clientData = null) {
            const modal = document.getElementById('clientModal');
            const title = document.getElementById('clientModalTitle');
            const form = document.getElementById('clientForm');
            
            editingClientId = clientData ? clientData.id : null;
            title.textContent = clientData ? 'Edit Client' : 'Add Client';
            
            // Reset form
            form.reset();
            
            // Populate form if editing
            if (clientData) {
                document.getElementById('clientCompany').value = clientData.name || '';
                document.getElementById('clientName').value = clientData.contact_name || '';
                document.getElementById('clientEmail').value = clientData.contact_email || '';
                document.getElementById('clientPhone').value = clientData.contact_phone || '';
                document.getElementById('clientStatus').value = clientData.status || 'active';
                document.getElementById('clientNotes').value = clientData.notes || '';
            }
            
            modal.classList.remove('hidden');
        }

        function closeClientModal() {
            document.getElementById('clientModal').classList.add('hidden');
            editingClientId = null;
        }

        async function saveClient() {
            const formData = {
                name: document.getElementById('clientCompany').value.trim(),
                contact_name: document.getElementById('clientName').value.trim(),
                contact_email: document.getElementById('clientEmail').value.trim(),
                contact_phone: document.getElementById('clientPhone').value.trim(),
                status: document.getElementById('clientStatus').value || 'active'
            };
            
            // Validate required fields
            if (!formData.name || !formData.contact_name || !formData.contact_email) {
                showNotification('Please fill in all required fields', 'error');
                return;
            }
            
            try {
                let response;
                if (editingClientId) {
                    // Update existing client
                    response = await fetch(`/api/clients/${editingClientId}`, {
                        method: 'PUT',
                        headers: {
                            'Content-Type': 'application/json',
                            'X-Tenant-ID': '1'
                        },
                        body: JSON.stringify(formData)
                    });
                } else {
                    // Add new client
                    response = await fetch('/api/clients', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                            'X-Tenant-ID': '1'
                        },
                        body: JSON.stringify(formData)
                    });
                }
                
                if (response.ok) {
                    // Close modal and refresh data
                    closeClientModal();
                    loadClientsData();
                    
                    showNotification(editingClientId ? 'Client updated successfully!' : 'Client added successfully!', 'success');
                } else {
                    throw new Error('Failed to save client');
                }
            } catch (error) {
                console.error('Error saving client:', error);
                showNotification('Failed to save client', 'error');
            }
        }

        async function editClient(clientId) {
            try {
                const response = await fetch(`/api/clients`, {
                    headers: {
                        'X-Tenant-ID': '1'
                    }
                });
                
                if (response.ok) {
                    const clients = await response.json();
                    const client = clients.find(c => c.id == clientId);
                    
                    if (client) {
                        openClientModal(client);
                    }
                }
            } catch (error) {
                console.error('Error fetching client:', error);
                showNotification('Failed to load client data', 'error');
            }
        }

        async function deleteClient(clientId) {
            if (!confirm('Are you sure you want to delete this client?')) return;
            
            try {
                const response = await fetch(`/api/clients/${clientId}`, {
                    method: 'DELETE',
                    headers: {
                        'X-Tenant-ID': '1'
                    }
                });
                
                if (response.ok) {
                    loadClientsData();
                    showNotification('Client deleted successfully!', 'success');
                } else {
                    throw new Error('Failed to delete client');
                }
            } catch (error) {
                console.error('Error deleting client:', error);
                showNotification('Failed to delete client', 'error');
            }
        }

        // Project Management Functions
        function initializeProjectManagement() {
            console.log('Initializing project management');
            loadProjectsData();
            
            const addProjectBtn = document.getElementById('addProjectBtn');
            if (addProjectBtn) {
                addProjectBtn.addEventListener('click', () => {
                    showNotification('Project creation feature coming soon!', 'info');
                });
            }
        }

        async function loadProjectsData() {
            try {
                const response = await fetch('/api/projects', {
                    headers: {
                        'X-Tenant-ID': '1'
                    }
                });
                
                if (!response.ok) {
                    throw new Error('Failed to load projects');
                }
                
                const projects = await response.json();
                
                // Update counts
                const counts = { planned: 0, in_progress: 0, review: 0, completed: 0, on_hold: 0 };
                projects.forEach(project => {
                    if (counts[project.status] !== undefined) counts[project.status]++;
                });
                
                const planningCountEl = document.getElementById('planningCount');
                const progressCountEl = document.getElementById('progressCount'); 
                const reviewCountEl = document.getElementById('reviewCount');
                const completedCountEl = document.getElementById('completedCount');
                
                if (planningCountEl) planningCountEl.textContent = counts.planned;
                if (progressCountEl) progressCountEl.textContent = counts.in_progress;
                if (reviewCountEl) reviewCountEl.textContent = counts.review;
                if (completedCountEl) completedCountEl.textContent = counts.completed;
                
                const grid = document.getElementById('projectsGrid');
                const emptyState = document.getElementById('emptyProjectsState');
                
                if (projects.length === 0) {
                    grid.innerHTML = '';
                    emptyState.classList.remove('hidden');
                } else {
                    emptyState.classList.add('hidden');
                    
                    // Render projects grid
                    grid.innerHTML = projects.map(project => `
                        <div class="bg-gray-700 rounded-lg p-6 border border-gray-600">
                            <div class="flex justify-between items-start mb-4">
                                <div>
                                    <h3 class="text-lg font-semibold text-white mb-2">${project.name}</h3>
                                    <p class="text-gray-300 text-sm mb-2">${project.client_name || 'No client'}</p>
                                    <span class="px-2 py-1 text-xs font-semibold rounded-full ${getProjectStatusColor(project.status)}">
                                        ${project.status.replace('_', ' ').toUpperCase()}
                                    </span>
                                </div>
                                <div class="text-right">
                                    <p class="text-white font-semibold">$${(project.value_cents / 100).toLocaleString()}</p>
                                    <p class="text-gray-400 text-sm">Due: ${new Date(project.due_date).toLocaleDateString()}</p>
                                </div>
                            </div>
                            <p class="text-gray-400 text-sm mb-4">${project.description}</p>
                            <div class="flex justify-between items-center">
                                <div class="text-sm text-gray-500">
                                    Started: ${new Date(project.start_date).toLocaleDateString()}
                                </div>
                                <div class="flex space-x-2">
                                    <button onclick="editProject(${project.id})" class="text-blue-400 hover:text-blue-300">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button onclick="viewProject(${project.id})" class="text-green-400 hover:text-green-300">
                                        <i class="fas fa-eye"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    `).join('');
                }
                
                // Also refresh dashboard stats
                loadDashboardStats();
                
            } catch (error) {
                console.error('Error loading projects:', error);
                showNotification('Failed to load projects', 'error');
                
                const grid = document.getElementById('projectsGrid');
                const emptyState = document.getElementById('emptyProjectsState');
                grid.innerHTML = '';
                emptyState.classList.remove('hidden');
            }
        }
        
        function getProjectStatusColor(status) {
            const colors = {
                planned: 'bg-blue-100 text-blue-800',
                in_progress: 'bg-yellow-100 text-yellow-800',
                review: 'bg-purple-100 text-purple-800',
                completed: 'bg-green-100 text-green-800',
                on_hold: 'bg-gray-100 text-gray-800'
            };
            return colors[status] || colors.planned;
        }
        
        function editProject(projectId) {
            showNotification('Project editing feature coming soon!', 'info');
        }
        
        function viewProject(projectId) {
            showNotification('Project details view coming soon!', 'info');
        }

        // Invoice Management Functions
        function initializeInvoiceManagement() {
            console.log('Initializing invoice management');
            loadInvoicesData();
            
            const addInvoiceBtn = document.getElementById('addInvoiceBtn');
            if (addInvoiceBtn) {
                addInvoiceBtn.addEventListener('click', () => {
                    showNotification('Invoice creation feature coming soon!', 'info');
                });
            }
        }

        async function loadInvoicesData() {
            try {
                const response = await fetch('/api/invoices', {
                    headers: {
                        'X-Tenant-ID': '1'
                    }
                });
                
                if (!response.ok) {
                    throw new Error('Failed to load invoices');
                }
                
                const invoices = await response.json();
                
                // Update counts
                const counts = { draft: 0, pending: 0, overdue: 0, paid: 0 };
                invoices.forEach(invoice => {
                    if (counts[invoice.status] !== undefined) counts[invoice.status]++;
                });
                
                const draftInvoicesEl = document.getElementById('draftInvoices');
                const sentInvoicesEl = document.getElementById('sentInvoices');
                const overdueInvoicesEl = document.getElementById('overdueInvoices');
                const paidInvoicesEl = document.getElementById('paidInvoices');
                
                if (draftInvoicesEl) draftInvoicesEl.textContent = counts.draft;
                if (sentInvoicesEl) sentInvoicesEl.textContent = counts.pending;
                if (overdueInvoicesEl) overdueInvoicesEl.textContent = counts.overdue;
                if (paidInvoicesEl) paidInvoicesEl.textContent = counts.paid;
                
                const tableBody = document.getElementById('invoicesTableBody');
                const emptyState = document.getElementById('emptyInvoicesState');
                
                if (invoices.length === 0) {
                    tableBody.innerHTML = '';
                    emptyState.classList.remove('hidden');
                } else {
                    emptyState.classList.add('hidden');
                    
                    // Render invoices table
                    tableBody.innerHTML = invoices.map(invoice => `
                        <tr class="hover:bg-gray-700">
                            <td class="px-6 py-4 whitespace-nowrap">
                                <div class="text-sm font-medium text-white">${invoice.number}</div>
                                <div class="text-sm text-gray-400">${new Date(invoice.created_at).toLocaleDateString()}</div>
                            </td>
                            <td class="px-6 py-4 whitespace-nowrap">
                                <div class="text-sm text-white">${invoice.client_name || 'Unknown Client'}</div>
                                <div class="text-sm text-gray-400">${invoice.project_name || 'No project'}</div>
                            </td>
                            <td class="px-6 py-4 whitespace-nowrap text-sm text-white">
                                $${(invoice.amount_cents / 100).toLocaleString()}
                            </td>
                            <td class="px-6 py-4 whitespace-nowrap">
                                <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${getInvoiceStatusColor(invoice.status)}">
                                    ${invoice.status.charAt(0).toUpperCase() + invoice.status.slice(1)}
                                </span>
                            </td>
                            <td class="px-6 py-4 whitespace-nowrap text-sm text-white">
                                ${new Date(invoice.due_date).toLocaleDateString()}
                            </td>
                            <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
                                <div class="flex space-x-2">
                                    <button onclick="viewInvoice(${invoice.id})" class="text-blue-400 hover:text-blue-300">
                                        <i class="fas fa-eye"></i>
                                    </button>
                                    <button onclick="editInvoice(${invoice.id})" class="text-green-400 hover:text-green-300">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button onclick="downloadInvoice(${invoice.id})" class="text-purple-400 hover:text-purple-300">
                                        <i class="fas fa-download"></i>
                                    </button>
                                </div>
                            </td>
                        </tr>
                    `).join('');
                }
                
                // Also refresh dashboard stats
                loadDashboardStats();
                
            } catch (error) {
                console.error('Error loading invoices:', error);
                showNotification('Failed to load invoices', 'error');
                
                const tableBody = document.getElementById('invoicesTableBody');
                const emptyState = document.getElementById('emptyInvoicesState');
                tableBody.innerHTML = '';
                emptyState.classList.remove('hidden');
            }
        }
        
        function getInvoiceStatusColor(status) {
            const colors = {
                draft: 'bg-gray-100 text-gray-800',
                pending: 'bg-yellow-100 text-yellow-800',
                paid: 'bg-green-100 text-green-800',
                overdue: 'bg-red-100 text-red-800'
            };
            return colors[status] || colors.draft;
        }
        
        function viewInvoice(invoiceId) {
            showNotification('Invoice details view coming soon!', 'info');
        }
        
        function editInvoice(invoiceId) {
            showNotification('Invoice editing feature coming soon!', 'info');
        }
        
        function downloadInvoice(invoiceId) {
            showNotification('Invoice download feature coming soon!', 'info');
        }
    </script>
</body>
</html>